## 优化布局和按钮功能 (Layout and Button Functionality Optimization)

### 总览
本次任务旨在优化网站在桌面和移动设备上的用户交互。具体而言，我们将调整桌面端的设置按钮位置至中栏右上角，并在移动端实现一个“返回顶部”的悬浮按钮。

### 桌面端设置按钮调整

#### 目标
将现有的设置按钮从全局固定位置移动到中栏内容的右上角，并确保其仅在桌面视图下可见。

#### 技术实现

*   **修改 `c:\Users\RegadPole\Desktop\homepage\src\components\CenterPanel.vue`**:
    *   在 `<script setup lang="ts">` 部分的现有导入后，添加 `import { defineEmits } from 'vue'`。
    *   紧接着 `const profile = siteConfig.profile`，添加 `const emit = defineEmits(['open-settings'])`。
    *   在 `<template>` 部分，在 `<div class="profile-card">` 内部，`<div class="avatar-wrapper">` 之前，添加新的设置按钮：
        ```vue
        <button class="settings-btn-desktop" @click="emit('open-settings')" title="设置">
          <Icon icon="mdi:cog" />
        </button>
        ```
    *   在 `<style scoped>` 部分，为 `.center-panel` 添加 `position: relative;`。
    *   在 `.social-link:hover` 样式之后，为新按钮添加样式规则：
        ```css
        .settings-btn-desktop {
          position: absolute;
          top: 1.5rem;
          right: 1.5rem;
          display: flex;
          align-items: center;
          justify-content: center;
          width: 40px;
          height: 40px;
          border: none;
          border-radius: 50%;
          background: rgba(128, 128, 128, 0.15); /* Match social links style */
          color: var(--text-color);
          font-size: 1.25rem;
          cursor: pointer;
          z-index: 10;
          transition: all 0.3s ease;
        }

        .settings-btn-desktop:hover {
          background: var(--primary-color);
          color: white;
          transform: rotate(90deg);
        }

        @media (max-width: 1024px) {
          .settings-btn-desktop {
            display: none; /* Hide on mobile/tablet */
          }
        }
        ```
*   **修改 `c:\Users\RegadPole\Desktop\homepage\src\App.vue`**:
    *   在 `<template>` 部分，删除原有的 `<button class="settings-btn" @click="showSettings = true" title="设置">` 元素。
    *   修改 `<CenterPanel />` 为 `<CenterPanel @open-settings="showSettings = true" />` 以监听 `CenterPanel` 发出的事件。
    *   删除 `<style scoped>` 中 `.settings-btn` 及其相关的媒体查询样式。

### 移动端返回顶部悬浮按钮

#### 目标
在移动端视图中，当用户向下滚动页面时，显示一个美观的悬浮“返回顶部”按钮。

#### 技术实现

*   **修改 `c:\Users\RegadPole\Desktop\homepage\src\App.vue`**:
    *   在 `<script setup lang="ts">` 部分，确保已导入 `ref, onMounted, onUnmounted`。
    *   在 `const showSettings = ref(false)` 之后，添加一个新的状态变量：
        ```ts
        const showBackToTop = ref(false)
        ```
    *   添加一个处理页面滚动的函数：
        ```ts
        const handleScroll = () => {
          showBackToTop.value = window.scrollY > 200
        }
        ```
    *   添加一个滚动到顶部的函数：
        ```ts
        const scrollToTop = () => {
          window.scrollTo({ top: 0, behavior: 'smooth' })
        }
        ```
    *   在 `onMounted(() => { initTheme() })` 中，添加滚动事件监听器：
        ```ts
        onMounted(() => {
          initTheme()
          window.addEventListener('scroll', handleScroll)
        })
        ```
    *   添加 `onUnmounted` 钩子以移除滚动事件监听器，防止内存泄漏：
        ```ts
        onUnmounted(() => {
          window.removeEventListener('scroll', handleScroll)
        })
        ```
    *   在 `<template>` 部分，紧随 `<SettingsModal :visible="showSettings" @close="showSettings = false" />` 之后，添加返回顶部按钮元素：
        ```vue
        <!-- Mobile Back-to-Top Button -->
        <button v-if="showBackToTop" class="back-to-top-btn" @click="scrollToTop" title="返回顶部">
          <Icon icon="mdi:rocket" />
        </button>
        ```
    *   在 `<style scoped>` 部分，在现有样式之后，添加 `.back-to-top-btn` 的样式：
        ```css
        .back-to-top-btn {
          position: fixed;
          bottom: 1.5rem;
          right: 1.5rem;
          display: flex;
          align-items: center;
          justify-content: center;
          width: 48px;
          height: 48px;
          border: none;
          border-radius: 50%;
          background: var(--primary-color);
          color: white;
          font-size: 1.5rem;
          cursor: pointer;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
          transition: all 0.3s ease;
          z-index: 99; /* Slightly lower than settings modal */
        }

        .back-to-top-btn:hover {
          transform: translateY(-5px);
          opacity: 0.8;
        }

        /* Hide on desktop */
        @media (min-width: 1025px) {
          .back-to-top-btn {
            display: none;
          }
        }
        ```

### 执行顺序

1.  修改 `c:\Users\RegadPole\Desktop\homepage\src\components\CenterPanel.vue`。
2.  修改 `c:\Users\RegadPole\Desktop\homepage\src\App.vue`。
